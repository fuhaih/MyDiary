# 数值类型

* 关于时长

尽量的按照秒为单位存储，或者需要更精细时，用毫秒存储，显示的时候再换算

比如刚开始只需要显示到小时，那么前端页面可以显示小时，再换算毫秒来存储

如果需求要求再加上分钟，那么存储方面不用动，数据也不用变更，只需要更改前端或者后端的换算接口

* 关于id类型

尽量用有序的id来存储，这里可以避免存储碎片化，有利于插入和查询操作。

mysql中如果不是有序id，会存在页分裂问题，类似于数组的插入操作，需要把插入位置以及后续数据往后挪动一位，影响插入效率

* 关于金额以及数量

数量不要使用decimal存储

系统中有个药品数量，使用的是decimal存储，这样会存在精度问题

字段的精度是decimal(8,3),也就是会存储到小数点后三位，药品规格是1000ml/瓶的时候，如果用量是1001，那么数量就是1.001瓶，如果是2000ml/瓶时候，2001用量就是1.000瓶了，不符合实际要求，这个例子比较极端，但是总的来说数量存储应该是直接用整数比较好点，超出一瓶的量就是两瓶

金额也是，最好不要直接用decimal来存储，因为数据库中的浮点数是用科学计数法来存储的，如果少数量的金额计算，没啥问题，但是像金融行业，大量的金额计算(计算量大，不一定要金额大)，会有精度缺失问题。


