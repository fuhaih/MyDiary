# 管理员

## 主页

>公告


    公告信息、公告-用户关联表、用户
    公告信息、公告-附件关联表、附件

    附件可以存储在mongodb中。

    设计1：公告-用户关联只是关联关系，外键公告id获取公告信息
    优点：减少数据冗余
    缺点：公告删除后，用户看不到公告了。
    设计2：公告-用户关联表包含完整的公告信息
    优点：公告删除后，不影响用户查看
    缺点：数据冗余

## 上传文件汇总

    展示所有用户的上传附件。可以按照任务、用户进行查找。
    下载用户上传的附件。
    这个附件和附件基本信息也是存储在Mongodb当中，和公告附件信息存储在两个不同collection中，而附件的文件是存储在GridFS中，会有个id，

## 模板维护

>模板新增

    模板id，
    模板名称

>模板编辑

    创建流程树
    编辑流程节点的权限

    模板权限：目前有三个角色，管理员、专家、用能单位，流程节点相当于function表的功能模块了，只不过是在模板中，所以权限信息也是在模板中。
    配置上面三个角色对于每个节点是否可以浏览、编辑
>

## 任务维护

    任务id，
    模板id，
    用户id

## 专家任务分配

    

## 角色维护

    角色新增
    角色删除
    角色修改:修改角色的信息和权限

## 人员维护

    用户的增删改
    用户的修改：基本信息修改、角色添加和删除、权限添加和删除



# 用能单位

# 专家

# 权限管理思考

>user 用户

>user-role用户角色表
    用户id，
    角色id

>role 角色

>user-function 角色权限表

    角色id，
    权限id，
    浏览，
    增，
    删，
    查，
    改

>function 权限

    权限id，
    权限名称，

>user-function 用户权限

    这个是用来实现临时权限之类的。
    用户权限继承自角色权限，同时也可以自己添加新权限。
